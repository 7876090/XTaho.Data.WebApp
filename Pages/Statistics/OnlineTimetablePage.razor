@page "/statistics/online-timetable"

@using XTaho.Data.WebApp.Services;
@using XTaho.Data.WebApp.Components;
@using XTaho.Data.WebApp.Collections.Inbox;

@inject OnlineClientService OClient;

@code {
    private ServerDescriptionResult? serverDescriptionResult;

    protected override async Task OnInitializedAsync()
    {
        if(await UpdateServerStatus())
        {}
    }

    private async Task<bool> UpdateServerStatus()
    {
        var result = await OClient.CheckServerAvailability();

        serverDescriptionResult = await OClient.GetServerDescription();

        return result;
    }
}
